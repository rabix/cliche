<form ng-submit="toolFormSubmit()" name="forms.toolForm" role="form" novalidate>

    <ul class="nav nav-tabs nav-tabs-steps">
        <li ng-class="{active: view.tab === 'general'}"><a href ng-click="switchTab('general')">General</a></li>
        <li ng-class="{active: view.tab === 'inputs'}"><a href ng-click="switchTab('inputs')">Inputs</a></li>
        <li ng-class="{active: view.tab === 'outputs'}"><a href ng-click="switchTab('outputs')">Outputs</a></li>
        <li ng-class="{active: view.tab === 'adapter'}"><a href ng-click="switchTab('adapter')">Adapter</a></li>
    </ul>

    <!--<div class="row">-->
        <div class="tabs" ng-switch="view.tab">

            <div class="tab" ng-switch-when="general">

                <div class="form-group form-group-email" ng-class="{'has-error': (forms.toolForm.documentAuthor.$invalid && forms.toolForm.$dirty)}">
                    <label for="documentAuthor" class="control-label">Document Author</label>
                    <input type="email" class="form-control" id="documentAuthor" name="documentAuthor" ng-model="view.toolForm.documentAuthor" required>
                </div>

                <legend class="legend-small">Environment</legend>

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group" ng-class="{'has-error': (forms.toolForm.RECtype.$invalid && forms.toolForm.$dirty)}">
                            <label for="type" class="control-label">Type</label>
                            <select class="form-control" id="type" name="RECtype" ng-model="view.toolForm.requirements.environment.container.type">
                                <option value="docker">docker</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group" ng-class="{'has-error': (forms.toolForm.RECuri.$invalid && forms.toolForm.$dirty)}">
                            <label for="uri" class="control-label">URI</label>
                            <input type="text" class="form-control" id="uri" name="RECuri" ng-model="view.toolForm.requirements.environment.container.uri" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group" ng-class="{'has-error': (forms.toolForm.RECimageId.$invalid && forms.toolForm.$dirty)}">
                            <label for="uri" class="control-label">Image Id</label>
                            <input type="text" class="form-control" id="imageId" name="RECimageId" ng-model="view.toolForm.requirements.environment.container.imageId" required>
                        </div>
                    </div>
                </div>

                <!-- END Requirements -> Environment -->

                <legend class="legend-small">Resources</legend>

                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group" ng-class="{'has-error': (forms.toolForm.RRcpu.$invalid && forms.toolForm.$dirty)}">
                            <label for="cpu" class="control-label">CPU</label>
                            <input type="number" class="form-control" id="cpu" name="RRcpu" ng-model="view.toolForm.requirements.resources.cpu" min="0" required>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group" ng-class="{'has-error': (forms.toolForm.RRmem.$invalid && forms.toolForm.$dirty)}">
                            <label for="mem" class="control-label">Memory</label>
                            <input type="number" class="form-control" id="mem" name="RRmem" ng-model="view.toolForm.requirements.resources.mem" min="0" required>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group" ng-class="{'has-error': (forms.toolForm.RRdiskSpace.$invalid && forms.toolForm.$dirty)}">
                            <label for="diskSpace" class="control-label">Disk Space</label>
                            <input type="number" class="form-control" id="diskSpace" name="RRdiskSpace" ng-model="view.toolForm.requirements.resources.diskSpace" min="0" required>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="network" class="control-label">Network</label>
                            <select class="form-control" id="network" name="network" ng-model="view.toolForm.requirements.resources.network">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group" ng-class="{'has-error': (forms.toolForm.RplatformFeatures.$invalid && forms.toolForm.$dirty)}">
                    <label class="control-label">Platform Features</label>

                    <div class="checkbox" ng-repeat="(key, val) in view.transforms">
                        <label><input type="checkbox" ng-model="view.transforms[key]" ng-change="toggleTransformsList(key)"> {{ key }}</label>
                    </div>

                </div>

                <!-- END Requirements -> Resources -->

            </div>
            <!-- END tab General -->

            <div class="tab" ng-switch-when="inputs">
                <legend class="legend-small toggle" ng-class="{active: view.propsExpanded.inputs}" ng-click="toggleProperties('inputs')">Properties</legend>
                <property
                        ng-repeat="(key, property) in view.toolForm.inputs.properties"
                        ng-model="property"
                        active="view.active.inputs[key]"
                        type="input"
                        name="{{ key }}"
                        form="forms.toolForm"
                        required-inputs="view.toolForm.inputs.required"
                        transforms="view.toolForm.requirements.platformFeatures">
                </property>
            </div>
            <!-- END tab Inputs -->


            <div class="tab" ng-switch-when="outputs">
                <legend class="legend-small toggle" ng-class="{active: view.propsExpanded.outputs}" ng-click="toggleProperties('outputs')">Properties</legend>
                <property
                        ng-repeat="(key, property) in view.toolForm.outputs.properties"
                        ng-model="property"
                        active="view.active.outputs[key]"
                        type="output"
                        name="{{ key }}"
                        form="forms.toolForm"
                        required-inputs="view.toolForm.outputs.required">
                </property>
            </div>
            <!-- END tab Outputs -->

            <div class="tab" ng-switch-when="adapter">
                <legend>Adapter</legend>

                <div class="form-group">
                    <label class="control-label">Base Cmd</label>
                    <enum ng-model="view.toolForm.adapter.baseCmd" type="string" min="1" is-required="true"></enum>
                </div>

                <div class="form-group">
                    <label for="stdout" class="control-label">Stdout</label>
                    <input type="text" class="form-control" id="stdout" name="stdout" ng-model="view.toolForm.adapter.stdout" required>
                </div>

                <legend class="legend-small toggle" ng-class="{active: view.propsExpanded.args}" ng-click="toggleProperties('args')">Arguments</legend>
                <argument
                        ng-repeat="(key, argument) in view.toolForm.adapter.args track by $index"
                        ng-model="argument"
                        active="view.active.args[key]"
                        name="{{ key }}"
                        form="forms.toolForm"
                        values-from="view.valuesFrom">
                </argument>

            </div>
            <!-- END Adapter -->

        </div>

    <!--</div>-->

    <div class="form-group main-actions">
        <button type="submit" class="btn btn-primary pull-right">Next <i class="glyphicon glyphicon-chevron-right"></i></button>
    </div>

</form>